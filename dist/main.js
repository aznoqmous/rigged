(()=>{"use strict";class e{static parse(t){let l=t.trim().split("\n"),n=[],s=0,r=null;return l.length?(l=l.map(((t,l)=>{let a=t.trim().match(/^[^ ]*/)[0],i=document.createElement(a),c=e.parseId(t);c&&(i.id=c);let o=e.parseConnector(t);o&&(i._connector=o);let h=e.parseClasses(t);h&&h.map((e=>i.classList.add(e)));let m=e.parseAttributes(t);m&&m.map((e=>{i.setAttribute(e.key,e.value)}));let d=e.parseContent(t);d&&(i.innerHTML=d);let p=t.match(/^\ */)[0].length;return n.length?p<s?(n.splice(n.length-1,1),n[n.length-1].appendChild(i)):p>s?(n.includes(r)||n.push(r),r.appendChild(i)):n[n.length-1].appendChild(i):n.push(i),s=p,r=i,i})),l):null}static removeAttributes(e){return e.replace(/\[[^\[\]]*?\]/gs,"")}static removeContent(e){return e.replace(/\([^\(\)]*?\)/gs,"")}static parseClasses(t){return t=e.removeAttributes(t),(t=(t=e.removeContent(t)).match(/\.[^\.\ ]*/gms))?t.map((e=>e.replace(/\./,""))):null}static parseId(t){return(t=(t=e.removeContent(t)).match(/\#[^\#\. ]*/))?t[0].replace(/#/,""):null}static parseConnector(t){let l=(t=e.removeContent(t)).match(/\@[^\@\. ]*/);return l?l[0].replace(/@/,""):null}static parseAttributes(t){return(t=(t=e.removeContent(t)).match(/\[[^\]]*\]/gm))?t.map((e=>({key:e.replace("[","").replace(/\=.*?$/,""),value:e.match(/\".*?\"/)[0].replaceAll('"',"")}))):null}static parseContent(e){return(e=e.match(/\([^\)]*\)/))?e=e[0].replace(/[\(|\)]/gs,""):""}}class t{constructor(e){this.init(e),this.build()}init(e){e=Object.assign({container:null,template:"div"},e);for(let t in e)this[t]=e[t]}build(){this.elements=e.parse(this.template),this.elements.map((e=>{e._connector&&(this[e._connector]=e),this.addMethods(e)})),this.element=this.elements[0],this.addMethods(this.element),this.container&&this.container.appendChild(this.element)}addMethods(e){e.setStyle=t=>this.setStyle(t,e),e.remove=()=>{this.remove(e)},e.clear=()=>{this.clear(e)},e.selectOne=t=>this.selectOne(t,e),e.selectAll=t=>this.selectAll(t,e)}setStyle(e,t=null){t||(t=this.element);for(let l in e)t.style[l]=e[l];return t}selectOne(e,t=null){return t||(t=this.element),t.querySelector(e)}selectAll(e,t=null){return t||(t=this.element),[...t.querySelectorAll(e)]}remove(e=null){e||(e=this.element),e.parentElement.removeChild(e)}clear(e=null){e||(e=this.element),e.innerHTML=""}}document.addEventListener("DOMContentLoaded",(()=>{new t({container:document.body,template:'\n    div .nstool\n      h1 (NSTOOL.aoizh#oa[paizjdpoazjd]izhd.apidzd)\n      div .search #bjr (dis a search)\n        input #search [autofocus="true"] [placeholder="yoursite.com"]\n        div #suggests\n      input @mail #mail [type="mail"] [placeholder="mail"]\n      div #dnsResults\n      div #certResults\n    '}).mail.setStyle({color:"red",padding:"1rem"})}))})();